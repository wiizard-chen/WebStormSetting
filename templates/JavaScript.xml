<templateSet group="JavaScript">
  <template name="jcrud" value="import BaseCrudModel from '@/views/allMixin/BaseCrudModel.js'&#10;export default class ListModel extends BaseCrudModel {&#10;    constructor(vue) {&#10;        super(vue)&#10;    }&#10;&#10;    loadData() {&#10;        const self = this&#10;        const vue = this.vue&#10;        this.loading = true&#10;        this.openPagination = true&#10;        let param = this.getSearchFormData()&#10;        this.api.list(param).then(res =&gt; {&#10;            vue.myUtil.handleListDataFM(&#10;                self,&#10;                res.data,&#10;                self.pagination,&#10;                self.selectItems&#10;            )&#10;            this.loading = false&#10;        }).catch(() =&gt; {&#10;            this.loading = false&#10;        })&#10;    }&#10;    getSearchFormData() {&#10;        let vue = this.vue&#10;        let flag = false&#10;        let r = null&#10;        if (vue.$refs['crud']) {&#10;            let base = vue.$refs['crud'].getSearchFormData(flag)&#10;            if (base === false) {&#10;                return undefined&#10;            }&#10;            r = vue.myUtil.formatParamsFM(base, {}, this.pagination, this.sorts)&#10;        } else {&#10;            r = {&#10;                pageSize: 20,&#10;                pageIndex: 1,&#10;            }&#10;        }&#10;        return r&#10;    }&#10;&#10;    getSummaries(param) {&#10;        // 求合计行&#10;    }&#10;}" description="7.0crud的model" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="JAVA_SCRIPT" value="true" />
    </context>
  </template>
</templateSet>